# 3 方法论章节 — AI 原生开发的核心方法

&nbsp;&nbsp;&nbsp;&nbsp;在 AI 原生开发的世界里，代码不再是构建产品的唯一钥匙，**和 AI 顺畅 “对话” 的能力**才是最核心的生产力。这一章不会教你写一行行代码，而是想带你一起探索：怎么把模糊的想法变成 AI 能懂的指令，怎么通过一轮轮沟通打磨产品，又怎么把多个 AI 能力拼起来做成一个完整的工具 —— 就像搭积木一样，简单、好玩，还能马上动手试试。

## 3.1 用自然语言思考：Prompt as Design

&nbsp;&nbsp;&nbsp;&nbsp;什么是Prompt？

&nbsp;&nbsp;&nbsp;&nbsp;Prompt（提示词）指的是用户输入给AI的指令或问题，用来引导模型生成所需内容。它既可以是一句话的问题，也可以是结构化的上下文说明，甚至是带有规则、角色设定的复杂指令。

&nbsp;&nbsp;&nbsp;&nbsp;做 AI 原生产品的第一步，其实就是把我们平时画的 “需求图”“原型稿”，变成 AI 能读明白的 “Prompt（指令）”。你可以把 Prompt 理解成 “给 AI 的任务说明书”：写得越清楚，AI 做得越对味；要是写得含糊，AI 可能就会 “会错意”。这一节我们就一起聊聊，怎么用大白话写出好指令，让你的想法落地不跑偏。

### 3.1.1 写好指令的 3 个小原则：让 AI 不迷茫

&nbsp;&nbsp;&nbsp;&nbsp;想让 AI 精准 get 到你的需求，记住这 3 个小要点就行，一点都不复杂：​

- **目标要 “具体”**：别只说 “做个好用的工具”，你可以这么说
> “做个帮亲子家庭规划 3 天短途自驾游的攻略工具” 
&nbsp;&nbsp;&nbsp;&nbsp;谁用、用在哪、做什么，一下子就清楚了

- **边界要 “划清”**：告诉 AI“什么能做、什么不做”，比如  
> “只推荐北京周边的目的地，别选要坐飞机的城市”“攻略里得有 2 个适合小孩玩的景点，网红打卡地就不用了”

- **信息要 “给全”**：补充一些小细节，AI 会做得更贴心。  
> “家里有个 5 岁宝宝，得推婴儿车，所以景点要能走轮椅”“预算 5000 块以内，要包含住宿和门票”。

### 3.1.2 两种超好用的指令类型：马上就能试

&nbsp;&nbsp;&nbsp;&nbsp;（1）场景式指令：把 “用户怎么用” 说清楚

&nbsp;&nbsp;&nbsp;&nbsp;场景式指令的秘诀，就是 “还原用户用产品的真实画面”。你不用想太复杂，就像讲故事一样，说说 “谁在什么情况下，需要解决什么问题”，AI 就能给出特别落地的结果。

&nbsp;&nbsp;&nbsp;&nbsp;**举个例子：从 “随口一说” 到 “精准指令”**

- 一开始的想法：
> &nbsp;&nbsp;&nbsp;&nbsp;“帮我做个关于咖啡的内容”（太模糊啦）
- 稍微优化下：
> “帮我做个给职场人看的咖啡内容”（好一点，但还不够）
- 最终的场景式指令：
> 假设你是职场咖啡顾问，要给每天坐办公室、下午容易犯困的人，设计 3 个 1 分钟左右的短视频脚本。<br>① 每个脚本里得有‘1 种适合在办公室泡的咖啡（比如挂耳、冷萃）<br>② 不超过 3 步的冲泡方法 + 简单的提神小知识（别讲专业术语）’<br>③ 风格要轻松点，开头得吸引人，比如‘下午困到睁不开眼？3 步泡出提神咖啡！’<br>（这样 AI 就知道要做什么、给谁看、做成什么样了）

&nbsp;&nbsp;&nbsp;&nbsp;（2）角色式指令：让 AI “变身” 专业人士
    
&nbsp;&nbsp;&nbsp;&nbsp;给 AI 安个 “身份”，它就能用这个身份的思路来做事，不会说些空话。比如让它当 “儿童绘本作者”“职场教练”，输出的内容会特别专业。

&nbsp;&nbsp;&nbsp;&nbsp;**举个例子：给 “儿童绘本工具” 写指令**

- 普通指令：
> “帮我写个儿童绘本故事”（AI 可能写得太简单）
- 角色式指令：
> 假设你是写了 10 年儿童绘本的作者，现在要给 3-5 岁的小朋友写一本讲‘友谊’的绘本。要求很简单:<br>① 主角是两个小动物，比如小兔子和小松鼠；<br>② 故事要讲它们互相帮忙解决小麻烦，比如小兔子丢了胡萝卜，小松鼠帮它找；<br>③ 句子别太长，每句不超过 10 个字，每一页都要标上插画提示，比如【插画：小兔子蹲在草地上，手里拿着空篮子，皱着眉头】；<br>④ 结尾要有点温暖的小道理，比如‘朋友互相帮忙，就是最开心的事’<br>（AI一下子就知道要站在绘本作者的角度，怎么写小朋友才喜欢）

### 3.1.3 如果写好一个prompt

&nbsp;&nbsp;&nbsp;&nbsp;优质的prompt千变万化，但遵循上述原则，我们总结出一个比较实用的框架，可以帮助用户更高概率从通义千问中收获更高质量的模型生成结果。使用LLM时，建议包含如下内容：

- **system message：** 你希望大模型扮演什么角色，来解决你当前的问题。大模型具有较强的角色扮演能力，相比直接回答往往表现更好。system message中也可以规定大模型的回答范围。
- **指令：** 明确说明你希望大模型做什么事情，不要含糊其辞。
- **例子：** 如果可能，提供尽可能丰富的例子信息。
- **原因：** 详细解释你希望模型做这件事情的原因、动机、希望的结果等，这样大模型能更好地理解你的想法，执行需求。
- **step by step：** 对于复杂任务，让大模型一步一步的思考，可以给出更加合理的答案。对于输出格式的形容：对于部分场景，明确大模型输出格式的要求，可以更好的获取到更加结构化，适合系统调用的答案。

&nbsp;&nbsp;&nbsp;&nbsp;下面以 “做一个给职场新人用的职场沟通话术助手” 为例，一步步教你用这个框架落地想法，你可以直接套用这个思路到自己的产品设计中：​

>**1. Step 1：先想 “要解决什么问题”**   

&nbsp;&nbsp;&nbsp;&nbsp;一开始的想法：“想要个帮职场新人沟通的工具” → 拆解核心问题：职场新人常遇到 “和领导汇报不知道怎么说”“和同事协作不会提需求”“给客户发消息怕语气不当” 的问题，工具需要帮他们生成 “得体、高效的沟通话术”，避免因沟通不当影响工作。

> **2. Step 2：补充 “用户的情况”** 

&nbsp;&nbsp;&nbsp;&nbsp;加细节让需求更具体：“用户是入职 0-1 年的职场新人，涉及的沟通场景主要是‘向领导同步工作进度’‘向同事请求协助’‘给客户发送项目跟进消息’；他们需要话术‘简洁（每段不超过 3 句话）、正式但不生硬、有明确的沟通目的（如同步进度 / 请求反馈）’，且能根据‘沟通对象（领导 / 同事 / 客户）’和‘紧急程度（普通 / 紧急）’调整语气。”​

> **3. Step 3 ：明确 “要输出什么”**   

&nbsp;&nbsp;&nbsp;&nbsp;说清楚工具的核心产出：“输入‘沟通场景（如向领导同步进度）、沟通对象、紧急程度、关键信息（如进度：项目 A 完成 80%，遇到 XX 问题）’，输出‘2-3 套不同风格的话术（偏简洁 / 偏详细）+ 话术使用小贴士（如 “和领导沟通需突出结果，少讲过程”）’；同时提供‘话术修改入口’，支持用户输入调整需求（如 “把这句话改得更委婉”）。”​

> **4. Step 4：用 “Prompt 框架” 写完整指令**    

&nbsp;&nbsp;&nbsp;&nbsp;结合框架把需求转化为 AI 能懂的指令，这里我们直接写出最终的 Prompt，你可以看看每个框架要素是怎么融入的：​

   - **system message：** 假设你是拥有 5 年职场沟通培训经验的顾问，擅长帮职场新人设计得体、高效的沟通话术，熟悉互联网、电商等主流行业的职场沟通风格，输出内容需符合 “新人友好、不晦涩、可直接复制使用” 的原则。  
   - **指令：** 帮我设计一个 “职场新人沟通话术助手” 的核心功能逻辑，重点是 “用户输入信息后，AI 生成符合需求的沟通话术” 这一环节。  
   - **例子：** 若用户输入 “沟通场景：向领导同步项目进度；沟通对象：直属领导；紧急程度：普通；关键信息：项目 A 本周完成 80%，设计环节遇到供应商延迟问题，预计下周三能解决”，AI 需输出：  
     【话术 1（偏简洁）】“王经理，向您同步项目 A 进度：目前完成 80%，设计供应商略有延迟，已协调好下周三解决，后续有新情况我及时跟您说～”​  
     【话术 2（偏详细）】“王经理您好，同步下项目 A 的最新进度：本周按计划推进到 80%，但设计环节遇到供应商交付延迟的问题，我已经和供应商沟通确认，他们下周三能交付设计稿，后续我会每周五跟您同步一次进度，您有其他要求可以随时告诉我。”​  
     【小贴士】向领导同步进度时，先讲结果，再简要说明问题和解决方案，避免只提问题不给办法。  
   - **原因：** 职场新人对沟通尺度把握不准，需要 “可直接用的话术” 降低试错成本，同时通过 “小贴士” 帮他们慢慢理解沟通逻辑，不仅授人以鱼，还授人以渔。  
   - **step by step：** AI 生成话术需分 3 步：① 先提取用户输入的 “沟通对象、紧急程度”，确定话术语气（如对领导偏正式，紧急情况需加 “麻烦您尽快” 等表述）；② 再整合 “关键信息”，确保话术包含核心内容（如进度、问题、时间节点）；③ 最后根据 “场景” 调整结构（如请求协助需明确 “需要对方做什么、截止时间”）。  
   - **输出格式：** 功能逻辑需分 “用户输入模块”“AI 处理模块”“用户输出模块” 三部分，每部分用 “模块名称 + 具体说明” 的形式呈现，说明部分用 bullet point 列出关键点，方便后续开发参考。
通过这个框架，原本模糊的 “沟通工具” 需求，变成了 AI 能清晰理解、可落地的功能逻辑 —— 不仅明确了 “输入什么、输出什么”，还规定了 “AI 怎么思考、输出怎么呈现”，后续和 AI 迭代优化时，也能更有方向。

## 3.2 迭代优化：Iteration Loop

&nbsp;&nbsp;&nbsp;&nbsp;AI 原生开发不是 “一次性给指令→等待结果” 的单向过程，而是 “指令→输出→反馈→优化” 的循环迭代（Iteration Loop）。每一轮对话都是一次开发迭代，通过持续调整指令、补充信息，让 AI 的输出逐步接近产品最终目标。本节将拆解迭代循环的核心步骤，以及如何通过精准反馈控制输出质量。

### 3.2.1 迭代循环的四步核心流程

> &nbsp;&nbsp;&nbsp;&nbsp;**Step 1：初始指令（First Prompt）** 

&nbsp;&nbsp;&nbsp;&nbsp;基于 3.1 节的方法，输出第一个明确的指令，无需追求 “完美”，重点是让 AI 理解核心方向。  
&nbsp;&nbsp;&nbsp;&nbsp;**示例：**“帮我设计一个面向宝妈的‘儿童食谱推荐工具’，核心功能是‘输入孩子年龄（1-3 岁）、过敏食材、用餐场景（早餐 / 午餐 / 晚餐），输出 1 份食谱（包含食材清单、步骤、营养搭配理由）’，请先给出工具的功能框架描述。”

> &nbsp;&nbsp;&nbsp;&nbsp;**Step 2：接收输出（Output Analysis）** 

&nbsp;&nbsp;&nbsp;&nbsp;AI 输出后，需从 “是否符合核心需求、信息是否完整、落地性是否足够” 三个维度分析结果，找出偏差点。  
&nbsp;&nbsp;&nbsp;&nbsp;**示例 AI 输出：**“儿童食谱推荐工具功能框架：1. 输入模块：孩子年龄、过敏食材；2. 输出模块：食谱（食材、步骤）；3. 附加功能：营养小贴士。”  
&nbsp;&nbsp;&nbsp;&nbsp;**分析偏差：**  <br>&nbsp;&nbsp;&nbsp;&nbsp;
① 缺少 “用餐场景” 输入项（与初始指令不符）<br>&nbsp;&nbsp;&nbsp;&nbsp;
② 输出模块未提及 “营养搭配理由”；<br>&nbsp;&nbsp;&nbsp;&nbsp;
③ 未说明 “食谱是否适合对应年龄的咀嚼能力（如 1 岁孩子需软烂食材）”。

> **Step 3：精准反馈（Feedback Design）**  

&nbsp;&nbsp;&nbsp;&nbsp;反馈不是 “重新说一遍需求”，而是 “指出偏差点 + 给出修正方向”，让 AI 明确优化目标。  
&nbsp;&nbsp;&nbsp;&nbsp;**错误反馈：**“你漏了很多东西，再改一下。”（模糊，AI 无法定位问题）  
&nbsp;&nbsp;&nbsp;&nbsp;**正确反馈：**“功能框架需要补充 3 点优化：<br>&nbsp;&nbsp;&nbsp;&nbsp;
 ① 输入模块需增加‘用餐场景（早餐 / 午餐 / 晚餐）’选项，因为不同场景的食谱需求不同,（如早餐需快速制作）；<br>&nbsp;&nbsp;&nbsp;&nbsp;
② 输出模块需加入‘营养搭配理由’，且需说明‘食谱是否符合对应年龄的咀嚼能力’，（如 1 岁孩子的食谱需标注‘食材需打碎成泥’）；<br>&nbsp;&nbsp;&nbsp;&nbsp;
③ 附加功能‘营养小贴士’需具体说明内容方向（如‘提示该食谱富含钙 / 铁，适合促进骨骼发育’）。请基于这些优化点，重新整理功能框架。”

> **Step 4：优化迭代（Iteration）**  

&nbsp;&nbsp;&nbsp;&nbsp;AI 根据反馈调整后，重复 “分析输出→精准反馈” 的步骤，直到输出符合预期。  
&nbsp;&nbsp;&nbsp;&nbsp;**示例优化后输出：**“儿童食谱推荐工具功能框架：<br>&nbsp;&nbsp;&nbsp;&nbsp;
①  输入模块：孩子年龄（1-3 岁，标注对应咀嚼能力要求）、过敏食材（可多选）、用餐场景（早餐 / 午餐 / 晚餐，附场景需求说明：如早餐需 30 分钟内完成）；<br>&nbsp;&nbsp;&nbsp;&nbsp;
②输出模块：食谱（食材清单：标注用量 + 是否适合咀嚼能力；步骤：分 5 步以内，每步附操作提示，如‘1 岁孩子需将胡萝卜蒸熟后压泥’）；营养搭配理由（如‘鸡蛋 + 菠菜：补充蛋白质和铁，预防贫血’）；<br>&nbsp;&nbsp;&nbsp;&nbsp;
③ 附加功能：营养小贴士（标注该食谱的核心营养素及对孩子发育的作用，如‘富含维生素 D，帮助钙吸收’）。”

### 3.2.2 控制输出风格与细节的反馈技巧

&nbsp;&nbsp;&nbsp;&nbsp;在迭代过程中，除了修正功能偏差，还需通过反馈控制输出的 “风格”“格式”“细节颗粒度”，让结果更贴合产品定位。

&nbsp;&nbsp;&nbsp;&nbsp;**（1）控制风格：明确 “语气、受众适配性”**  
&nbsp;&nbsp;&nbsp;&nbsp;**示例反馈：**“食谱步骤的描述风格需要更口语化，符合宝妈的阅读习惯，避免‘将食材进行加热处理’这类书面语，改为‘把食材放进蒸锅蒸 10 分钟’；同时，营养搭配理由要避免专业术语，比如不说‘补充优质蛋白质’，而是说‘鸡蛋里的营养能帮宝宝长身体’。”

&nbsp;&nbsp;&nbsp;&nbsp;**（2）控制格式：统一 “输出结构、呈现方式”**   
&nbsp;&nbsp;&nbsp;&nbsp;**示例反馈：**“请将食谱的输出格式调整为分栏结构：左侧是‘食材清单’（分‘主料’‘辅料’，标注用量，如‘主料：鸡蛋 1 个、菠菜 50g’），右侧是‘步骤’（每步前标序号，如‘1. 菠菜洗净焯水，切碎；2. 鸡蛋打散，加入菠菜碎搅匀’），这样更清晰易读。”

&nbsp;&nbsp;&nbsp;&nbsp;**（3）控制细节颗粒度：根据需求调整 “信息深度”**  
&nbsp;&nbsp;&nbsp;&nbsp;**需更细致：**“请在食材清单中补充‘替代食材’，比如‘如果孩子对鸡蛋过敏，可用鹌鹑蛋替代（用量：2 个）’；步骤中需标注‘注意事项’，如‘蒸鸡蛋时需用中火，避免蒸老’。”  
&nbsp;&nbsp;&nbsp;&nbsp;**需更简洁：**“食谱步骤无需拆分太细，比如‘菠菜洗净焯水，切碎’可以合并为‘菠菜焯水后切碎’，避免步骤过多导致混乱。”

## 3.3 模块化构建思维：从 Chat 到 App

&nbsp;&nbsp;&nbsp;&nbsp;当单一 AI 任务（如生成文本、绘制图片）无法满足产品需求时，需要通过 “模块化构建” 将多个 AI 任务组合成一个协同工作的系统。**模块化构建的核心是 “拆分任务→定义接口→整合流程”**，让不同 AI 模块（如文本生成模块、图片生成模块、数据处理模块）各司其职，最终形成具备完整功能的产品（从简单的 Chat 输出，升级为可交互的 App）。本节将拆解模块化构建的逻辑，并用案例说明如何落地。

### 3.3.1 模块化构建的三步骤逻辑

> &nbsp;&nbsp;&nbsp;&nbsp;**Step 1：拆分核心任务（Task Decomposition）**

&nbsp;&nbsp;&nbsp;&nbsp;根据产品目标，将整体需求拆分为 “可由 AI 独立完成的单一任务”，每个任务对应一个 “AI 模块”。拆分原则：“单一模块只负责一类功能，模块间边界清晰，避免功能重叠”。

&nbsp;&nbsp;&nbsp;&nbsp;**示例**：拆分 “儿童绘本生成 App” 的核心任务

- 产品目标：用户输入 “绘本主题（如友谊）、孩子年龄（3-5 岁）”，输出 “完整绘本（包含文字故事 + 对应插画 + 排版格式）”；  
- 拆分后任务模块：  
  ① 文本生成模块：根据主题和年龄，生成绘本文字故事（含章节划分、插画场景提示）；​  
  ② 图片生成模块：根据文本模块输出的 “插画场景提示”，生成符合儿童审美的插画（如 “小兔子蹲在草地上，手里拿着空篮子”）；​  
  ③ 排版整合模块：将文字故事与对应插画按章节排版，生成可下载的 PDF 格式（字体大小、配色符合儿童阅读习惯）。

> &nbsp;&nbsp;&nbsp;&nbsp;**Step 2：定义模块接口（Interface Definition）** 

&nbsp;&nbsp;&nbsp;&nbsp;“接口” 是模块间传递信息的 “约定”，需明确 “上游模块输出什么格式的信息，下游模块需要什么格式的信息”，避免因信息格式不匹配导致流程断裂。

&nbsp;&nbsp;&nbsp;&nbsp;**示例：** 定义 “儿童绘本生成 App” 的模块接口

- 文本生成模块 → 图片生成模块的接口：  
```
  输出格式：“章节序号 + 插画场景描述 + 风格要求”，  
  **示例：**“Chapter 1，插画场景：小兔子（白色，长耳朵）蹲在绿色草地上，手里拿着黄色空篮子，背景有 3 棵小树苗，风格：卡通手绘，色彩明亮，适合 3-5 岁儿童”；​  
```
- 文本生成模块 + 图片生成模块 → 排版整合模块的接口：  
```
  文本模块输出：“章节序号 + 文字内容（每段不超过 20 字，分段落标注）”，  
  示例：“Chapter 1：小兔子提着篮子去采胡萝卜。走到草地上，发现篮子是空的。”；​  
  图片模块输出：“章节序号 + 插画图片（分辨率 1080*1440px，PNG 格式）”；​  
  排版模块接收后，按 “文字在上，图片在下” 的结构排版，字体用 “方正少儿简体”，字号 24px，背景色为浅米色。
```
> &nbsp;&nbsp;&nbsp;&nbsp;**Step 3：设计整合流程（Process Integration）** 

&nbsp;&nbsp;&nbsp;&nbsp;明确模块的执行顺序和依赖关系，形成 “从用户输入到最终输出” 的完整流程，可通过 “流程图” 或 “步骤描述” 呈现。

&nbsp;&nbsp;&nbsp;&nbsp;**示例：“儿童绘本生成 App” 的整合流程**

1. 用户输入：在 App 界面输入 “绘本主题（如友谊）、孩子年龄（3-5 岁）、期望章节数（如 5 章）”；  
2. 文本生成模块启动：接收用户输入，生成 “5 章文字故事 + 每章插画场景提示”，输出至图片生成模块和排版整合模块；  
3. 图片生成模块启动：接收文本模块的 “插画场景提示”，生成 5 张对应插画，输出至排版整合模块；  
4. 排版整合模块启动：接收文本模块的

